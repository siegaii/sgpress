---
title: 微信小程序-1
date: 2021-08-02 20:26:35
permalink: /pages/41b633/
categories:
  - 技术文档
  - 小程序
tags:
  - 移动端
  - 小程序
---

1. 注册账号
2. 搭建开发环境
3. 初始化小程序

<!-- more -->

## 注册账号

1. 官网地址 https://mp.weixin.qq.com/
2. 注册完成后获取AppId


:::tip
注册过微信公共号的邮箱不能再注册小程序
:::

## 搭建开发环境

[下载小程序开发工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html)

## 初始化小程序

+ 项目名称
+ 目录：设置本地空目录
+ 登录小程序后台查看
+ 开发模式：小程序
+ 后台服务：不使用云服务
+ 语法：js

## 小程序目录结构

```shell
├── app.js  // 小程序入口
├── app.json  // 小程序全局配置文件
├── app.wxss  //  小程序全局样式
├── pages // 页面文件目录
│   ├── index
│   │   ├── index.js  //  页面入口
│   │   ├── index.json  //  页面配置
│   │   ├── index.wxml  // 页面类容
│   │   └── index.wxss  // 网页样式
│   └── logs
│       ├── logs.js
│       ├── logs.json
│       ├── logs.wxml
│       └── logs.wxss
├── project.config.json
├── sitemap.json
└── utils
    └── util.js
```

## 生命周期
+ 小程序生命周期（全局生命周期）
  - `onlaunch` : 小程序启动（全局只调用一次）
  - `onshow` : 初始化完成，从后台切换到前台
  - `onHide` : 从前台切换到后台
+ 页面生命周期
  - `onLoad` : 页面加载执行1次
  - `onShow` : 页面显示切换前台
  - `onRead` : 页面就绪1次
  - `onHide` : 页面隐藏切换后台
  - `onUnload` : 页面卸载1次

## 云api
https://developers.weixin.qq.com/miniprogram/dev/api/

:::tip
wx.getUserInfo 方法已被淘汰，推荐使用wx.getUserProfile获取用户信息，开发者每次通过该接口获取用户个人信息均需用户确认，开发者妥善保管用户快速填写的头像昵称，避免重复弹窗。

获取用户信息。页面产生点击事件（例如 button 上 bindtap 的回调中）后才可调用，每次请求都会弹出授权窗口，用户同意后返回 userInfo。
:::

## WXML
+ WXML（WeiXin Markup Language）是框架设计的一套标签语言
+ 中展示内容的具体标签，称之为组件

https://developers.weixin.qq.com/miniprogram/dev/component/page-meta.html